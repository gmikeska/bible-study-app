<% if(current_user.isStaff?)
    fields = [:name, :description, :visibility]
    edit = true;
    delete = true;
  else
    fields = [:name, :description]
    edit = false;
    delete = false;
  end
%>

<%= render(TableComponent.new(fields:fields, edit:edit, delete:delete)) do |component| %>
  <% component.with(:header) do %>
      <%= RecordComponent.new(fields:component.fields, show:component.show, edit:component.edit, delete:component.delete).header %>
  <% end %>
  <% component.with(:body) do %>
      <%= render RecordComponent.with_collection(lessons,fields:component.fields, show:component.show, edit:component.edit, delete:component.delete) %>
  <% end %>
  <% component.with(:placeholder) do %>
    There are no articles yet.
  <% end %>
<% end %>
